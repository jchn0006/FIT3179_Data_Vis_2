
{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "title": "Distribution of Daily Social Media Time",
  "data": {"url": "data/SMA.csv"},
  
  

  "repeat": ["Sleep_Hours_Per_Night","Mental_Health_Score","Affects_Academic_Performance_Calculated","Conflicts_Over_Social_Media", "Addicted_Score"],
  "columns": 2,
  "spec": {
    "width": 400,
    "height": 400,

    "mark": {"type": "bar", "color": "#4682b4"},

    "transform": [
          { "filter": "datum.Avg_Daily_Usage_Hours > 0" },
          { "calculate": "datum.Affects_Academic_Performance == 'Yes' ? 1 : 0", "as" : "Affects_Academic_Performance_Calculated"}
        ],



    "encoding": {
      "x": {
        "field": "Avg_Daily_Usage_Hours",
        "type": "quantitative",
        "bin": {"step" : 0.5},
        "title": "Time Spent on Social Media (hours/day)"
      },
      "y": {
        "aggregate" : "average",
        "field":  {"repeat": "repeat"},
        "type": "quantitative"
      },
      "tooltip": [
        {"field": "Avg_Daily_Usage_Hours", "bin": true, "title": "Hours/Day"},
        {"aggregate": "average", "field": "sleep_hours", "title": "Count"}
      ]
    }
  }
}
